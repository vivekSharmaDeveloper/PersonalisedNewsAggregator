/* =================================
   ACCESSIBILITY STYLES
   ================================= */

/* High Contrast Mode */
.high-contrast {
  --bg-primary: #000000;
  --bg-secondary: #1a1a1a;
  --text-primary: #ffffff;
  --text-secondary: #e0e0e0;
  --border-color: #ffffff;
  --link-color: #66ccff;
  --link-hover: #99ddff;  
  --button-bg: #ffffff;
  --button-text: #000000;
  --focus-color: #ffff00;
  --error-color: #ff6666;
  --success-color: #66ff66;
  --warning-color: #ffcc66;
}

.high-contrast * {
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-color) !important;
}

.high-contrast a {
  color: var(--link-color) !important;
  text-decoration: underline !important;
}

.high-contrast a:hover,
.high-contrast a:focus {
  color: var(--link-hover) !important;
  background-color: var(--bg-secondary) !important;
}

.high-contrast button {
  background-color: var(--button-bg) !important;
  color: var(--button-text) !important;
  border: 2px solid var(--border-color) !important;
  font-weight: bold !important;
}

.high-contrast button:hover,
.high-contrast button:focus {
  background-color: var(--focus-color) !important;
  color: var(--button-text) !important;
}

.high-contrast input,
.high-contrast textarea,
.high-contrast select {
  background-color: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
  border: 2px solid var(--border-color) !important;
}

.high-contrast img {
  border: 2px solid var(--border-color) !important;
  filter: contrast(1.2) brightness(1.1) !important;
}

/* Focus Indicators */
.keyboard-navigation-active *:focus {
  outline: 3px solid #007acc !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.8) !important;
}

.high-contrast.keyboard-navigation-active *:focus {
  outline: 3px solid var(--focus-color) !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 1px var(--bg-primary) !important;
}

/* Skip Links */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: #000000;
  color: #ffffff;
  padding: 8px;
  text-decoration: none;
  font-weight: bold;
  border-radius: 4px;
  z-index: 10000;
  transition: top 0.3s ease;
}

.skip-link:focus {
  top: 6px;
  outline: 2px solid #ffffff;
  outline-offset: 2px;
}

/* Font Size Adjustments */
.font-size-small {
  font-size: 14px !important;
}

.font-size-medium {
  font-size: 16px !important;
}

.font-size-large {
  font-size: 18px !important;
}

.font-size-xlarge {
  font-size: 20px !important;
}

.font-size-xxlarge {
  font-size: 24px !important;
}

/* Screen Reader Only Content */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

.sr-only-focusable:focus {
  position: static !important;
  width: auto !important;
  height: auto !important;
  padding: inherit !important;
  margin: inherit !important;
  overflow: visible !important;
  clip: auto !important;
  white-space: normal !important;
}

/* Motion & Animation Controls */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High Contrast Mode Article Cards */
.high-contrast .bg-white {
  background-color: var(--bg-secondary) !important;
}

.high-contrast .bg-blue-100 {
  background-color: var(--bg-secondary) !important;
}

.high-contrast .text-cyan-700 {
  color: var(--link-color) !important;
}

.high-contrast .text-zinc-500,
.high-contrast .text-zinc-600,
.high-contrast .text-zinc-700 {
  color: var(--text-secondary) !important;
}

.high-contrast .border-zinc-200 {
  border-color: var(--border-color) !important;
}

/* Badge Styles in High Contrast */
.high-contrast .bg-red-100 {
  background-color: #660000 !important;
  color: var(--error-color) !important;
  border: 1px solid var(--error-color) !important;
}

.high-contrast .bg-green-100 {
  background-color: #006600 !important;
  color: var(--success-color) !important;
  border: 1px solid var(--success-color) !important;
}

.high-contrast .bg-blue-50 {
  background-color: #000066 !important;
  color: var(--link-color) !important;
  border: 1px solid var(--link-color) !important;
}

.high-contrast .bg-gray-100 {
  background-color: var(--bg-secondary) !important;
  color: var(--text-secondary) !important;
  border: 1px solid var(--border-color) !important;
}

/* Accessibility Panel Specific Styles */
.accessibility-panel {
  border: 3px solid #007acc;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
}

.high-contrast .accessibility-panel {
  border-color: var(--focus-color) !important;
  box-shadow: 0 4px 20px rgba(255, 255, 255, 0.3) !important;
}

/* TTS Status Indicator */
.tts-playing {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.5; }
  100% { opacity: 1; }
}

@media (prefers-reduced-motion: reduce) {
  .tts-playing {
    animation: none;
    opacity: 1;
  }
}

/* Color Blind Friendly Colors */
.colorblind-friendly {
  --red: #d73027;
  --orange: #fc8d59;
  --yellow: #fee08b;
  --green: #91cf60;
  --blue: #4575b4;
  --purple: #756bb1;
}

/* Improved Link Visibility */
.high-contrast a {
  text-decoration: underline !important;
  text-decoration-thickness: 2px !important;
  text-underline-offset: 3px !important;
}

/* Form Elements High Contrast */
.high-contrast input:focus,
.high-contrast textarea:focus,
.high-contrast select:focus {
  outline: 3px solid var(--focus-color) !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 1px var(--bg-primary) !important;
}

/* Loading Spinner Accessibility */
.loading-spinner[aria-hidden="false"] {
  position: relative;
}

.loading-spinner[aria-hidden="false"]::after {
  content: "Loading...";
  position: absolute;
  left: -10000px;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

/* Keyboard Navigation Visual Feedback */
.keyboard-focus-indicator {
  animation: focusGlow 0.3s ease-in-out;
}

@keyframes focusGlow {
  0% { 
    transform: scale(0.95);
    opacity: 0.7;
  }
  100% { 
    transform: scale(1);
    opacity: 1;
  }
}

/* Voice Command Feedback */
.voice-listening {
  border: 2px dashed #ff6b6b !important;
  animation: voicePulse 1s infinite;
}

@keyframes voicePulse {
  0%, 100% { border-color: #ff6b6b; }
  50% { border-color: #ff8e8e; }
}

/* Article Reading Mode */
.reading-mode {
  line-height: 1.6 !important;
  letter-spacing: 0.5px !important;
  word-spacing: 2px !important;
}

.reading-mode p {
  margin-bottom: 1em !important;
}

/* Dark Mode Compatibility */
.dark .high-contrast {
  --bg-primary: #000000;
  --bg-secondary: #1a1a1a;
  --text-primary: #ffffff;
  --text-secondary: #e0e0e0;
}

/* Tooltip Accessibility */
[data-tooltip] {
  position: relative;
}

[data-tooltip]:hover::after,
[data-tooltip]:focus::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: #333;
  color: #fff;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 14px;
  white-space: nowrap;
  z-index: 1000;
}

.high-contrast [data-tooltip]:hover::after,
.high-contrast [data-tooltip]:focus::after {
  background: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
  border: 1px solid var(--border-color) !important;
}

/* Responsive Accessibility */
@media (max-width: 768px) {
  .skip-link {
    font-size: 16px;
    padding: 12px;
  }
  
  .keyboard-navigation-active *:focus {
    outline-width: 4px !important;
  }
  
  .accessibility-panel {
    margin: 10px;
    max-height: calc(100vh - 20px);
  }
}

/* Print Styles for Accessibility */
@media print {
  .high-contrast {
    --bg-primary: #ffffff;
    --text-primary: #000000;
    --border-color: #000000;
  }
  
  .skip-link,
  .keyboard-focus-indicator,
  .accessibility-panel {
    display: none !important;
  }
}

/* Focus Trap Styles */
.focus-trap {
  position: relative;
}

.focus-trap::before,
.focus-trap::after {
  content: '';
  position: absolute;
  width: 1px;
  height: 1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Announcement Styles */
.accessibility-announcement {
  position: absolute !important;
  left: -10000px !important;
  width: 1px !important;
  height: 1px !important;
  overflow: hidden !important;
}
